<!DOCTYPE html>
<html>
    <head>
        <script src="https://cdn.socket.io/socket.io-3.0.1.min.js"></script>
    </head>
    <body>
        <img src="logo.png">
        <h1>we don't save your info</h1>
        <h2>write whatever you want</h2>
        <h3>there will be someone to listen to you<h3>
        <input placeholder="message" id="message" style = "height:200px">
        <button id="sb" onclick="sendMessage()">send</button>
        <div id="p"></div>
                    
            <h1>(optional)</h1>
            <form>
            <label>Address</label>
            <input id="email" type="text" required>
           
            <label>Name</label>
            <input id="uname" type="text" required> 
           
            <label>Phone</label>
            <input id="phone" type="number" required>
            
            <button onclick="register()">register</button>
             </form>
        <script>
            const socket = io('https://fish-welcome.herokuapp.com')
            
            socket.on('message', (data)=>{
            
            const parent = document.getElementById('p');
            const child = document.createElement('br');
            parent.append(child, data); // Works fine              
        
        })

            const sendMessage = () => {
            console.log('button is pressed')
            const m = document.getElementById("message").value
            socket.emit('message', m);
            alert('message sent')
        }
            
          const register = ()=>{
          
                socket.emit('register', {email:email.value, name:uname.value, phone:phone.value})
            }   
        </script>
    </body>
</html>
